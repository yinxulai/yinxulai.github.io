---
lang: zh-CN
title: 利用自然噪波生成有趣的视觉效果
description: 利用自然噪波生成有趣的视觉效果
---

本文只是讨论如何利用自然噪波生成一些有趣的视觉效果，针对各种不同的噪波生成算法不做细致的讨论。

本文所有的 自然噪波 实现均使用 `simplex-noise` 算法，这是一种专门对性能进行过优化的生成算法，可以比较快速的在浏览器上执行。

<!-- more -->

### 🌲自然噪波 是啥

自然噪波其实就是一种生成随机数的算法，可能大家会立即联想到 `Math.random`，大体上其实也差不太多，
唯一不一样的点在于：`Math.random` 是'一定程度上的'纯随机，每一个连续生成的数据之间没有任何的关系，生成出来的数据呈均匀分布，
而自然噪波的特点是生成的连续（连续的关系可以是任意维度的）随机数之间存在相互关系，整体数据分布呈正态分布。

自然噪波的连续随机的变化来自于对大自然的模拟，在生活中，存在着各式各样的噪波：木头纹理、山脉起伏等等。

比如地形，它有起伏很大的山脉，也有起伏稍小的山丘，也有细节非常多的石子等，这些不同程度的细节共同组成了一个自然的地形表面。
这些随机的成分并不是完全独立的，他们之间有一定的关联。采用微积分里面的说法，就是像素点之间变化是连续的，并没有发生跳变。

实际上，很多 3D 的游戏就是利用 `自然噪波` 来生成随机的地形，比如 `我的世界`。

下面我会从简单到复杂，看看利用 `自然噪波` 能做出哪些有意思的东西。

### 随机移动的小球

我们可以在二维的平面上绘制一个随机移动的小球，来看看 `random` 和 `自然噪波` 二者在图像上的直观区别。

TIP：对于下面的实时渲染内容你可以在这里看到实时的刷新率：<view-fps />

<random-with-noise-move-ball />

左侧的小球因为每一帧的 `x`、`y` 坐标都是使用 `random` 随机生成的，看起来非常的鬼畜。
前后之间的位置没有任何的关联，而右侧的小球，更自然：位置的变化更加连续。

### 映射颜色

我们还可以将这种变化映射到颜色灰度 (动态性能不行，就做成静态了)：

<random-with-noise-color-plane />

### 地形起伏

<noise-3d-terrain />

### 角度变化

<noise-angle-field />
